<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Shiny tutorial | Introduction to R Shiny</title>
  <meta name="description" content="This is the course mateial for the workshop- Introduction R Shiny offered by Monash Bioinformatics Platform." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Shiny tutorial | Introduction to R Shiny" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is the course mateial for the workshop- Introduction R Shiny offered by Monash Bioinformatics Platform." />
  <meta name="github-repo" content="nkandhari/R-shiny-MBP" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Shiny tutorial | Introduction to R Shiny" />
  
  <meta name="twitter:description" content="This is the course mateial for the workshop- Introduction R Shiny offered by Monash Bioinformatics Platform." />
  

<meta name="author" content="Nitika K., Adele B., Paul F. H." />


<meta name="date" content="2022-03-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reactivity.html"/>
<link rel="next" href="resources.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="shared/ionrangeslider/js/ion.rangeSlider.min.js"></script>
<script src="shared/strftime/strftime-min.js"></script>
<link href="shared/ionrangeslider/css/ion.rangeSlider.css" rel="stylesheet" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet" />
<link href="libs/bootstrap-3.4.1/accessibility/css/bootstrap-accessibility.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.4.1/accessibility/js/bootstrap-accessibility.min.js"></script>
<link href="shared/selectize/css/selectize.bootstrap3.css" rel="stylesheet" />
<script src="shared/selectize/js/selectize.min.js"></script>
<script src="shared/selectize/accessibility/js/selectize-plugin-a11y.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro to R Shiny</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#download-files"><i class="fa fa-check"></i><b>1.1</b> Download files<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i><b>1.2</b> Overview<span></span></a></li>
<li><a href="index.html#source-code">Source code<span></span></a></li>
<li><a href="index.html#authors-and-copyright">Authors and copyright<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#what-is-shiny"><i class="fa fa-check"></i><b>2.1</b> What is Shiny<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#another-r-package---whats-so-special-about-shiny"><i class="fa fa-check"></i><b>2.2</b> Another R package - What’s so special about Shiny?<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#example-apps"><i class="fa fa-check"></i><b>2.3</b> Example apps<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#create-your-first-shiny-app"><i class="fa fa-check"></i><b>2.4</b> Create your first Shiny App<span></span></a>
<ul>
<li><a href="intro.html#activity-1-creating-a-shinyapp-that-prints-hello-world">Activity 1: Creating a ShinyApp that prints “Hello, World!”<span></span></a></li>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#breakdown-of-the-code"><i class="fa fa-check"></i><b>2.4.1</b> Breakdown of the code<span></span></a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#running-a-shiny-app"><i class="fa fa-check"></i><b>2.4.2</b> Running a Shiny App<span></span></a></li>
<li><a href="intro.html#activity-2-now-open-the-app_ui.r-inside-shinyapps-folder-and-examine-what-it-does.">Activity 2: Now, open the <code>app_ui.R</code> inside <code>ShinyApps</code> folder and examine what it does.<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i><b>3</b> Structure of a Shiny App<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="structure.html"><a href="structure.html#ui"><i class="fa fa-check"></i><b>3.1</b> UI<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="structure.html"><a href="structure.html#layout"><i class="fa fa-check"></i><b>3.2</b> Layout<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="structure.html"><a href="structure.html#challenge-0---.activity."><i class="fa fa-check"></i><b>3.2.1</b> Challenge 0 {- .activity}.<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="structure.html"><a href="structure.html#widgets"><i class="fa fa-check"></i><b>3.3</b> Widgets<span></span></a>
<ul>
<li><a href="structure.html#activity-3-now-open-the-widgets.r-inside-shinyapps-folder-and-try-running-it.">Activity 3: Now, open the <code>widgets.R</code> inside <code>ShinyApps</code> folder, and try running it.<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="structure.html"><a href="structure.html#server"><i class="fa fa-check"></i><b>3.4</b> Server<span></span></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="structure.html"><a href="structure.html#input"><i class="fa fa-check"></i><b>3.4.1</b> Input<span></span></a></li>
<li class="chapter" data-level="3.4.2" data-path="structure.html"><a href="structure.html#output"><i class="fa fa-check"></i><b>3.4.2</b> Output<span></span></a></li>
<li><a href="structure.html#challenge-1-rewrite-your-ui-to-create-a-shiny-app-that-contains-following">Challenge 1: Rewrite your <code>ui</code> to create a Shiny app that contains following:<span></span></a></li>
<li class="chapter" data-level="3.4.3" data-path="structure.html"><a href="structure.html#session"><i class="fa fa-check"></i><b>3.4.3</b> Session<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reactivity.html"><a href="reactivity.html"><i class="fa fa-check"></i><b>4</b> Reactivity<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="reactivity.html"><a href="reactivity.html#overview-of-reactivity"><i class="fa fa-check"></i><b>4.1</b> Overview of Reactivity<span></span></a>
<ul>
<li><a href="reactivity.html#challenge-3-modify-greeting.r-to-print-the-reverse">Challenge 3: Modify <code>greeting.R</code> to print the reverse<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="reactivity.html"><a href="reactivity.html#reactive-expressions-save-recomputation"><i class="fa fa-check"></i><b>4.2</b> Reactive expressions save recomputation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tutorial.html"><a href="tutorial.html"><i class="fa fa-check"></i><b>5</b> Shiny tutorial<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="tutorial.html"><a href="tutorial.html#setting-up-a-shiny-app"><i class="fa fa-check"></i><b>5.1</b> Setting up a shiny app<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="tutorial.html"><a href="tutorial.html#building-the-ui-layout"><i class="fa fa-check"></i><b>5.2</b> Building the UI layout<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="tutorial.html"><a href="tutorial.html#data-processing-on-the-server-side"><i class="fa fa-check"></i><b>5.3</b> Data processing on the server side<span></span></a>
<ul>
<li><a href="tutorial.html#activity-4-modily-x--and-y-axes-labels">Activity 4: Modily x- and y-axes labels<span></span></a></li>
<li><a href="tutorial.html#challenge-2-modify-the-app-to-add-the-following">Challenge 2: Modify the app to add the following<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>6</b> Further Reading<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R Shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tutorial" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Shiny tutorial<a href="tutorial.html#tutorial" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We’ll build a Shiny App that takes a csv file containing data for 6 samples and the raw counts for 1000 genes. Each sample is a column and each gene is a row. One sample will be plotted on the x-axis and another sample on the y-axis. We’ll also want to be able to display a table of the selected columns but that will be for the challenge.</p>
<pre><code>##         sample1 sample2 sample3 sample4 sample5 sample6
## gene_1       89    4664     274     126    1267     143
## gene_2      568    3456     201       9     139     504
## gene_3      275    4307     449     187    7909     188
## gene_4     3913    5912    4082    4318    8892    3851
## gene_5     3382     155    2897    2626    2069    3456
## gene_6     4167    5194    4404    4757    4765    4156
## gene_7     4831     227    5009    4554     479    4713
## gene_8     2532    3395    3000    3441    4575    2460
## gene_9     3274    1658    3074    3189    2293    3277
## gene_10    3272    4169    3454    3192    7403    3344</code></pre>
<p><em>Top ten rows of the raw data used to build the shiny app</em></p>
<div id="setting-up-a-shiny-app" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Setting up a shiny app<a href="tutorial.html#setting-up-a-shiny-app" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Create one blank R script (Click <code>File</code> &gt; <code>New File</code> &gt; <code>R Script</code>). Save it inside the <code>demo</code> folder with the name <code>app.R</code>.</p>
<p>Now we’re going to create a blank app. In app.R, type:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="tutorial.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb24-2"><a href="tutorial.html#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="tutorial.html#cb24-3" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb24-4"><a href="tutorial.html#cb24-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-5"><a href="tutorial.html#cb24-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-6"><a href="tutorial.html#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="tutorial.html#cb24-7" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb24-8"><a href="tutorial.html#cb24-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-9"><a href="tutorial.html#cb24-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-10"><a href="tutorial.html#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="tutorial.html#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
<div id="building-the-ui-layout" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Building the UI layout<a href="tutorial.html#building-the-ui-layout" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The ui object controls the appearance of the app. There are a number of layouts and widgets that an app can have. For this tutorial, we will use a title panel with a sidebar layout underneath. This is a common layout for Shiny apps. The sidebar layout will give the app two panels, a sidebar and a main panel. To look up more layouts, check the <a href="http://shiny.rstudio.com/gallery/">Shiny gallery.</a></p>
<p>Update the ui object to:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="tutorial.html#cb25-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb25-2"><a href="tutorial.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;My first app&quot;</span>),</span>
<span id="cb25-3"><a href="tutorial.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb25-4"><a href="tutorial.html#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb25-5"><a href="tutorial.html#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(<span class="st">&quot;This is a sidebar panel&quot;</span>),</span>
<span id="cb25-6"><a href="tutorial.html#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="st">&quot;And this is the main panel&quot;</span>)</span>
<span id="cb25-7"><a href="tutorial.html#cb25-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-8"><a href="tutorial.html#cb25-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Then run app.</p>
<p>You should be able to make out the layout of the app now. The top of the window is where the title panel is located and beneath it are two panels, laid out with the sidebar to the left and the larger main panel to the right.</p>
<div id="using-widgets" class="section level4 hasAnchor" number="5.2.0.1">
<h4><span class="header-section-number">5.2.0.1</span> Using widgets<a href="tutorial.html#using-widgets" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We are going to add two widgets to the ui. These will control which samples gets plotted to the x and y axis of the plot and will be located in the sidebar panel. We will use <code>selectInput</code> to create these widgets but these could easily be swapped out for other widgets such radiobuttons. To see what widgets are available, look at the <a href="http://shiny.rstudio.com/gallery/widget-gallery.html">Shiny widget gallery</a> or consult the <a href="http://shiny.rstudio.com/images/shiny-cheatsheet.pdf">Shiny cheatsheet</a>.</p>
<p>To start off with, let’s add just one widget to the sidebar.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="tutorial.html#cb26-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb26-2"><a href="tutorial.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;My first app&quot;</span>),</span>
<span id="cb26-3"><a href="tutorial.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb26-4"><a href="tutorial.html#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb26-5"><a href="tutorial.html#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(<span class="st">&quot;This is a sidebar panel&quot;</span>,</span>
<span id="cb26-6"><a href="tutorial.html#cb26-6" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select x-axis&quot;</span>, </span>
<span id="cb26-7"><a href="tutorial.html#cb26-7" aria-hidden="true" tabindex="-1"></a>                             <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb26-8"><a href="tutorial.html#cb26-8" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb26-9"><a href="tutorial.html#cb26-9" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb26-10"><a href="tutorial.html#cb26-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb26-11"><a href="tutorial.html#cb26-11" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb26-12"><a href="tutorial.html#cb26-12" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample6&quot;</span>), </span>
<span id="cb26-13"><a href="tutorial.html#cb26-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">selected =</span> <span class="st">&quot;sample1&quot;</span>)</span>
<span id="cb26-14"><a href="tutorial.html#cb26-14" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb26-15"><a href="tutorial.html#cb26-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="st">&quot;And this is the main panel&quot;</span>)</span>
<span id="cb26-16"><a href="tutorial.html#cb26-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-17"><a href="tutorial.html#cb26-17" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>This is where Shiny starts to get a little tricky, a lot of ui code will be end up being nested in more code. So far, we have the <code>selectInput</code> widget nested inside <code>sidebarPanel</code> nested inside <code>siderbarLayout</code> <strong>which is nested in</strong> <code>fluidPage</code>. So we’ve stuck a function inside a function inside a function inside a function. Phew, that’s a lot to keep track of! Many common problems that’ll prevent a shiny app from running simply come from just putting a comma or a bracket in the wrong place.</p>
<blockquote>
<p>We cannot emphasis this point enough - <strong>keeping track of opening and closing brackets and your commas is a good skill to cultivate when building Shiny apps!</strong> One quick way to check on your brackets is to move the cursor next to a bracket - in RStudio - that will highlight the other bracket paired with if (if one exists, that is!).</p>
<p><img src="https://github.com/MonashBioinformaticsPlatform/r-more/blob/gh-pages/figures/full_brackets.png?raw=true" /></p>
<p><em>Fig 1. The cursor is placed next the opening bracket for <code>mainPanel</code> and the closing bracket is highlighted.</em></p>
<p><img src="https://github.com/MonashBioinformaticsPlatform/r-more/blob/gh-pages/figures/missing_bracket.png?raw=true" /></p>
<p><em>Fig 2. Here, though the cursor is in the same place but the original closing bracket to <code>mainPanel</code> is missing. The next closing bracket is used by <code>mainPanel</code> instead, which now means <code>sidebarLayout</code> does not have a closing bracket. The app would not work in this situation.</em></p>
</blockquote>
<p>Moving back to our ui, let’s break down the <code>selectInput</code> function. <code>inputId</code> is the name of widget, in this case <code>x_select</code> is the name that’ll be used in the server object to access the current value of the widget. The <code>labels</code> argument takes a string that will be used to label above the widget.</p>
<p><code>choices</code> takes a list of values and can be a bit confusing to understand. For simplicity’s sake, we have given an unnamed list, which will directly display the values themselves. <code>"sample1"</code> happens to be a column name in the data the app will be using, so this widget can be used to select which column gets plotted. However, if the names of the choices needs to be different from the values, a named list can be used.</p>
<p>For example:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="tutorial.html#cb27-1" aria-hidden="true" tabindex="-1"></a>choices <span class="ot">=</span> <span class="fu">list</span>(<span class="st">&quot;Sample 1&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb27-2"><a href="tutorial.html#cb27-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Sample 2&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb27-3"><a href="tutorial.html#cb27-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Sample 3&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb27-4"><a href="tutorial.html#cb27-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Sample 4&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb27-5"><a href="tutorial.html#cb27-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Sample 5&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb27-6"><a href="tutorial.html#cb27-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Sample 6&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample6&quot;</span>)</span></code></pre></div>
<p>In <code>"Sample 1" = "sample1"</code> the string <code>"Sample 1"</code> is the text that will appear in the widget, whereas <code>"sample1"</code> is the value that will be returned from the widget. Using this would make a much neater looking widget. Think of the name as purely cosmetic and what you’ll see while the value is what’s important and will be used behind the scenes for calculations. You could change the names to whatever you wanted without having on effect the app.</p>
<p>Finally, <code>selected</code> chooses which value the widget will start on when the app is run.</p>
<p>Now to add the second widget. To show the difference between an unnamed and a named list, the second widget will use a named list for <code>choices</code>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="tutorial.html#cb28-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb28-2"><a href="tutorial.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;My first app&quot;</span>),</span>
<span id="cb28-3"><a href="tutorial.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-4"><a href="tutorial.html#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb28-5"><a href="tutorial.html#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(<span class="st">&quot;This is a sidebar panel&quot;</span>,</span>
<span id="cb28-6"><a href="tutorial.html#cb28-6" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select x-axis&quot;</span>, </span>
<span id="cb28-7"><a href="tutorial.html#cb28-7" aria-hidden="true" tabindex="-1"></a>                             <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb28-8"><a href="tutorial.html#cb28-8" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb28-9"><a href="tutorial.html#cb28-9" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb28-10"><a href="tutorial.html#cb28-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb28-11"><a href="tutorial.html#cb28-11" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb28-12"><a href="tutorial.html#cb28-12" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample6&quot;</span>), </span>
<span id="cb28-13"><a href="tutorial.html#cb28-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">selected =</span> <span class="st">&quot;sample1&quot;</span>),</span>
<span id="cb28-14"><a href="tutorial.html#cb28-14" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select y-axis&quot;</span>, </span>
<span id="cb28-15"><a href="tutorial.html#cb28-15" aria-hidden="true" tabindex="-1"></a>                             <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;Sample 1&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb28-16"><a href="tutorial.html#cb28-16" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 2&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb28-17"><a href="tutorial.html#cb28-17" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 3&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb28-18"><a href="tutorial.html#cb28-18" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 4&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb28-19"><a href="tutorial.html#cb28-19" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 5&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb28-20"><a href="tutorial.html#cb28-20" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 6&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample6&quot;</span>),  </span>
<span id="cb28-21"><a href="tutorial.html#cb28-21" aria-hidden="true" tabindex="-1"></a>                             <span class="at">selected =</span> <span class="st">&quot;sample2&quot;</span>)</span>
<span id="cb28-22"><a href="tutorial.html#cb28-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb28-23"><a href="tutorial.html#cb28-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="st">&quot;And this is the main panel&quot;</span>)</span>
<span id="cb28-24"><a href="tutorial.html#cb28-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-25"><a href="tutorial.html#cb28-25" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>This widget is nearly identical to the first, all that has changed is the name of the widget, the use of a named list and which sample has been pre-selected. This widget has been called <code>y_select</code> and it will start on the value <code>sample2</code> so that the columns selected for the x and y axis will be different.</p>
</div>
<div id="adding-some-outputs" class="section level4 hasAnchor" number="5.2.0.2">
<h4><span class="header-section-number">5.2.0.2</span> Adding some outputs<a href="tutorial.html#adding-some-outputs" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There’s one last thing to do before moving onto the server object. The app has inputs now, but it doesn’t have any outputs! For this app, we will use three outputs. Two are going to be purely diagnostic so we can check that our <code>selectInputs</code> are working. They will not be included in our final app. The one output that will remain in our final app is <code>plotOutput</code>, as we want to generate a plot and it will be located in the main panel. There are numerous types of outputs Shiny can generate - to find out what other outputs Shiny is capable of, consult the <a href="http://shiny.rstudio.com/images/shiny-cheatsheet.pdf">Shiny cheatsheet</a> or the <a href="https://shiny.rstudio.com/reference/shiny/latest/">Shiny website</a>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="tutorial.html#cb29-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb29-2"><a href="tutorial.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;My first app&quot;</span>),</span>
<span id="cb29-3"><a href="tutorial.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-4"><a href="tutorial.html#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb29-5"><a href="tutorial.html#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(<span class="st">&quot;This is a sidebar panel&quot;</span>,</span>
<span id="cb29-6"><a href="tutorial.html#cb29-6" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select x-axis&quot;</span>, </span>
<span id="cb29-7"><a href="tutorial.html#cb29-7" aria-hidden="true" tabindex="-1"></a>                             <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb29-8"><a href="tutorial.html#cb29-8" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb29-9"><a href="tutorial.html#cb29-9" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb29-10"><a href="tutorial.html#cb29-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb29-11"><a href="tutorial.html#cb29-11" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb29-12"><a href="tutorial.html#cb29-12" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample6&quot;</span>), </span>
<span id="cb29-13"><a href="tutorial.html#cb29-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">selected =</span> <span class="st">&quot;sample1&quot;</span>),</span>
<span id="cb29-14"><a href="tutorial.html#cb29-14" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select y-axis&quot;</span>, </span>
<span id="cb29-15"><a href="tutorial.html#cb29-15" aria-hidden="true" tabindex="-1"></a>                             <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;Sample 1&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb29-16"><a href="tutorial.html#cb29-16" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 2&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb29-17"><a href="tutorial.html#cb29-17" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 3&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb29-18"><a href="tutorial.html#cb29-18" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 4&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb29-19"><a href="tutorial.html#cb29-19" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 5&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb29-20"><a href="tutorial.html#cb29-20" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 6&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample6&quot;</span>),  </span>
<span id="cb29-21"><a href="tutorial.html#cb29-21" aria-hidden="true" tabindex="-1"></a>                             <span class="at">selected =</span> <span class="st">&quot;sample2&quot;</span>)</span>
<span id="cb29-22"><a href="tutorial.html#cb29-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-23"><a href="tutorial.html#cb29-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mainPanel</span>(<span class="st">&quot;And this is the main panel&quot;</span>,</span>
<span id="cb29-24"><a href="tutorial.html#cb29-24" aria-hidden="true" tabindex="-1"></a>              <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;check_x_select&quot;</span>),</span>
<span id="cb29-25"><a href="tutorial.html#cb29-25" aria-hidden="true" tabindex="-1"></a>              <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;check_y_select&quot;</span>),</span>
<span id="cb29-26"><a href="tutorial.html#cb29-26" aria-hidden="true" tabindex="-1"></a>              <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;my_plot&quot;</span>)</span>
<span id="cb29-27"><a href="tutorial.html#cb29-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-28"><a href="tutorial.html#cb29-28" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-29"><a href="tutorial.html#cb29-29" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><code>my_plot</code> is the ID of the <code>plotoutput</code> and it tells the server object file where to direct data. Same goes for the two <code>textOutputs</code>. Run the app and see what you’ll get. Does it look any different?</p>
<p>At the moment, the app will display nothing because we haven’t told it do any calculations and generate a plot or display text. To do that, we need to move on to the server side.</p>
</div>
</div>
<div id="data-processing-on-the-server-side" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Data processing on the server side<a href="tutorial.html#data-processing-on-the-server-side" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The app now has a full UI but nothing is happening on the backend. To make the app interactive, that’s where the server object comes into play. Think of it as the object that contains an R analysis. The structure of this object can vary immensely depending on the complexity of the app itself.</p>
<p>First, we need to check on our two <code>selectInput</code> widgets, see if they are working correctly, before we move on to plotting. When building a Shiny app, it’s useful to have create outputs to check to see if parts of the app are doing what they should be, for both the ui and the server code. This step can be omitted, but we’ll go through it to demonstrate what the <code>selectInputs</code> are doing.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="tutorial.html#cb30-1" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb30-2"><a href="tutorial.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-3"><a href="tutorial.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>check_x_select <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb30-4"><a href="tutorial.html#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(input<span class="sc">$</span>x_select)</span>
<span id="cb30-5"><a href="tutorial.html#cb30-5" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb30-6"><a href="tutorial.html#cb30-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-7"><a href="tutorial.html#cb30-7" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>check_y_select <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb30-8"><a href="tutorial.html#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(input<span class="sc">$</span>y_select)</span>
<span id="cb30-9"><a href="tutorial.html#cb30-9" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb30-10"><a href="tutorial.html#cb30-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Now run the app.</p>
<p>There are a number of <code>render</code> functions in Shiny, <code>renderTable</code>, <code>renderText</code>, <code>renderPrint</code>, etc, depending on what type of data needs to be output. If you want to check what render options exist, got the <a href="http://shiny.rstudio.com/reference/shiny/latest/">Shiny website reference page</a>.</p>
<p>Whenever a <code>render</code> function is called, it needs to be directed to an output that exists in the ui object. In the case of <code>output$check_x_select</code>, we have pointed the <code>renderText</code> function to <code>check_x_select</code>, which was the id of a <code>textOutput</code> in the UI. This means that the result of <code>renderText</code> is sent to the <code>check_x_select</code> output.</p>
<p>Inside the <code>renderText</code> function, we <code>print</code> the value of the <code>x_select</code>. To access a value of a input widget, we use <code>input$input_Id</code>. Once the app is running, every time the value of the input changes, a render function that depends on it will be re-run. So if we changed the value of the <code>x_select</code>, only the first <code>renderText</code> statement is re-calculated but the second one, which doesn’t depend on <code>x_select</code> will not be re-calculated.</p>
<p>Notice that despite the difference between the two <code>selectInputs</code> (one uses a named list and the other doesn’t), that the values returned are the same. Once again, using a named list changes the appearance of the ui but not the actual values of the widgets.</p>
<p>Now that we’ve seen that our widgets are working correctly, we can remove the diagnostic lines of code from both the ui and server. You can either comment them out or delete them. Your app should currently look like this:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="tutorial.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb31-2"><a href="tutorial.html#cb31-2" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb31-3"><a href="tutorial.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;My first app&quot;</span>),</span>
<span id="cb31-4"><a href="tutorial.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-5"><a href="tutorial.html#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb31-6"><a href="tutorial.html#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(<span class="st">&quot;This is a sidebar panel&quot;</span>,</span>
<span id="cb31-7"><a href="tutorial.html#cb31-7" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select x-axis&quot;</span>, </span>
<span id="cb31-8"><a href="tutorial.html#cb31-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb31-9"><a href="tutorial.html#cb31-9" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb31-10"><a href="tutorial.html#cb31-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb31-11"><a href="tutorial.html#cb31-11" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb31-12"><a href="tutorial.html#cb31-12" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb31-13"><a href="tutorial.html#cb31-13" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;sample6&quot;</span>), </span>
<span id="cb31-14"><a href="tutorial.html#cb31-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">selected =</span> <span class="st">&quot;sample1&quot;</span>),</span>
<span id="cb31-15"><a href="tutorial.html#cb31-15" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select y-axis&quot;</span>, </span>
<span id="cb31-16"><a href="tutorial.html#cb31-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;Sample 1&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb31-17"><a href="tutorial.html#cb31-17" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 2&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb31-18"><a href="tutorial.html#cb31-18" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 3&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb31-19"><a href="tutorial.html#cb31-19" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 4&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb31-20"><a href="tutorial.html#cb31-20" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 5&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb31-21"><a href="tutorial.html#cb31-21" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Sample 6&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample6&quot;</span>),  </span>
<span id="cb31-22"><a href="tutorial.html#cb31-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">selected =</span> <span class="st">&quot;sample2&quot;</span>)</span>
<span id="cb31-23"><a href="tutorial.html#cb31-23" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb31-24"><a href="tutorial.html#cb31-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="st">&quot;And this is the main panel&quot;</span>,</span>
<span id="cb31-25"><a href="tutorial.html#cb31-25" aria-hidden="true" tabindex="-1"></a>              <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;my_plot&quot;</span>)</span>
<span id="cb31-26"><a href="tutorial.html#cb31-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb31-27"><a href="tutorial.html#cb31-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-28"><a href="tutorial.html#cb31-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-29"><a href="tutorial.html#cb31-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-30"><a href="tutorial.html#cb31-30" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb31-31"><a href="tutorial.html#cb31-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-32"><a href="tutorial.html#cb31-32" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-33"><a href="tutorial.html#cb31-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-34"><a href="tutorial.html#cb31-34" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>The final app will be rather simple. It will take one <code>render</code> functions and send the output to the UI. To get going, let’s create an empty <code>renderPlot</code>.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="tutorial.html#cb32-1" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb32-2"><a href="tutorial.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-3"><a href="tutorial.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>my_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb32-4"><a href="tutorial.html#cb32-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-5"><a href="tutorial.html#cb32-5" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb32-6"><a href="tutorial.html#cb32-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Now let’s give the <code>render</code> function some data to display, the first two columns from the csv <code>shiny_sample_data.csv</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="tutorial.html#cb33-1" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb33-2"><a href="tutorial.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb33-3"><a href="tutorial.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>my_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb33-4"><a href="tutorial.html#cb33-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-5"><a href="tutorial.html#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Read in the sample csv</span></span>
<span id="cb33-6"><a href="tutorial.html#cb33-6" aria-hidden="true" tabindex="-1"></a>    dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data-files/shiny_sample_data.csv&quot;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb33-7"><a href="tutorial.html#cb33-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-8"><a href="tutorial.html#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Pull out the first and second columns in dat</span></span>
<span id="cb33-9"><a href="tutorial.html#cb33-9" aria-hidden="true" tabindex="-1"></a>    x_axis <span class="ot">&lt;-</span> dat[, <span class="st">&quot;sample1&quot;</span>]</span>
<span id="cb33-10"><a href="tutorial.html#cb33-10" aria-hidden="true" tabindex="-1"></a>    y_axis <span class="ot">&lt;-</span> dat[, <span class="st">&quot;sample2&quot;</span>]</span>
<span id="cb33-11"><a href="tutorial.html#cb33-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-12"><a href="tutorial.html#cb33-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Create a basic dot plot</span></span>
<span id="cb33-13"><a href="tutorial.html#cb33-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="at">x =</span> x_axis, y_axis)</span>
<span id="cb33-14"><a href="tutorial.html#cb33-14" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb33-15"><a href="tutorial.html#cb33-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>The complete working code looks like:</strong></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="tutorial.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">titlePanel</span>(<span class="st">&quot;My first app&quot;</span>)</span>
<span id="cb34-2"><a href="tutorial.html#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="tutorial.html#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Changed up the input and output IDs so that they don&#39;t conflict with the earlier app.  </span></span>
<span id="cb34-4"><a href="tutorial.html#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sidebarLayout</span>(</span>
<span id="cb34-5"><a href="tutorial.html#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarPanel</span>(<span class="st">&quot;App input control panel&quot;</span>,</span>
<span id="cb34-6"><a href="tutorial.html#cb34-6" aria-hidden="true" tabindex="-1"></a>               <span class="fu">selectInput</span>(<span class="st">&quot;x_select1&quot;</span>, <span class="at">label =</span> <span class="fu">h3</span>(<span class="st">&quot;Select x-axis&quot;</span>), </span>
<span id="cb34-7"><a href="tutorial.html#cb34-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb34-8"><a href="tutorial.html#cb34-8" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb34-9"><a href="tutorial.html#cb34-9" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb34-10"><a href="tutorial.html#cb34-10" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb34-11"><a href="tutorial.html#cb34-11" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb34-12"><a href="tutorial.html#cb34-12" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample6&quot;</span>), </span>
<span id="cb34-13"><a href="tutorial.html#cb34-13" aria-hidden="true" tabindex="-1"></a>                           <span class="at">selected =</span> <span class="st">&quot;sample1&quot;</span>),</span>
<span id="cb34-14"><a href="tutorial.html#cb34-14" aria-hidden="true" tabindex="-1"></a>               <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y_select1&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select y-axis&quot;</span>, </span>
<span id="cb34-15"><a href="tutorial.html#cb34-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;Sample 1&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb34-16"><a href="tutorial.html#cb34-16" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Sample 2&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb34-17"><a href="tutorial.html#cb34-17" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Sample 3&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb34-18"><a href="tutorial.html#cb34-18" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Sample 4&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb34-19"><a href="tutorial.html#cb34-19" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Sample 5&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb34-20"><a href="tutorial.html#cb34-20" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Sample 6&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample6&quot;</span>),  </span>
<span id="cb34-21"><a href="tutorial.html#cb34-21" aria-hidden="true" tabindex="-1"></a>                           <span class="at">selected =</span> <span class="st">&quot;sample2&quot;</span>)</span>
<span id="cb34-22"><a href="tutorial.html#cb34-22" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb34-23"><a href="tutorial.html#cb34-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mainPanel</span>(<span class="st">&quot;App output panel&quot;</span>,</span>
<span id="cb34-24"><a href="tutorial.html#cb34-24" aria-hidden="true" tabindex="-1"></a>            <span class="fu">plotOutput</span>(<span class="st">&quot;plot1&quot;</span>, <span class="at">width =</span> <span class="dv">600</span>, <span class="at">height =</span> <span class="dv">600</span>)</span>
<span id="cb34-25"><a href="tutorial.html#cb34-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-26"><a href="tutorial.html#cb34-26" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-27"><a href="tutorial.html#cb34-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-28"><a href="tutorial.html#cb34-28" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>plot1 <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb34-29"><a href="tutorial.html#cb34-29" aria-hidden="true" tabindex="-1"></a>    dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data-files/shiny_sample_data.csv&quot;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb34-30"><a href="tutorial.html#cb34-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-31"><a href="tutorial.html#cb34-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Pull out the first and second columns in dat</span></span>
<span id="cb34-32"><a href="tutorial.html#cb34-32" aria-hidden="true" tabindex="-1"></a>    x_axis <span class="ot">&lt;-</span> dat[, <span class="st">&quot;sample1&quot;</span>]</span>
<span id="cb34-33"><a href="tutorial.html#cb34-33" aria-hidden="true" tabindex="-1"></a>    y_axis <span class="ot">&lt;-</span> dat[, <span class="st">&quot;sample2&quot;</span>]</span>
<span id="cb34-34"><a href="tutorial.html#cb34-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-35"><a href="tutorial.html#cb34-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="at">x =</span> x_axis, <span class="at">y =</span> y_axis)</span>
<span id="cb34-36"><a href="tutorial.html#cb34-36" aria-hidden="true" tabindex="-1"></a>  })</span></code></pre></div>
<p>The app has a plot now…but it isn’t interactive, if we change the widget values, it has no effect on what is plotted on the figure. That’s because the first two columns were selected directly in the <code>renderPlot</code> function. However, we could change to call the widget values instead using <code>input</code>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="tutorial.html#cb35-1" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb35-2"><a href="tutorial.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb35-3"><a href="tutorial.html#cb35-3" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>my_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb35-4"><a href="tutorial.html#cb35-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-5"><a href="tutorial.html#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Read in the sample csv</span></span>
<span id="cb35-6"><a href="tutorial.html#cb35-6" aria-hidden="true" tabindex="-1"></a>    dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data-files/shiny_sample_data.csv&quot;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb35-7"><a href="tutorial.html#cb35-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-8"><a href="tutorial.html#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Pull out a column for the x and y axis each</span></span>
<span id="cb35-9"><a href="tutorial.html#cb35-9" aria-hidden="true" tabindex="-1"></a>    x_axis <span class="ot">&lt;-</span> dat[, input<span class="sc">$</span>x_select]</span>
<span id="cb35-10"><a href="tutorial.html#cb35-10" aria-hidden="true" tabindex="-1"></a>    y_axis <span class="ot">&lt;-</span> dat[, input<span class="sc">$</span>y_select]</span>
<span id="cb35-11"><a href="tutorial.html#cb35-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-12"><a href="tutorial.html#cb35-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Create a basic dot plot</span></span>
<span id="cb35-13"><a href="tutorial.html#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="at">x =</span> x_axis, y_axis)</span>
<span id="cb35-14"><a href="tutorial.html#cb35-14" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb35-15"><a href="tutorial.html#cb35-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>The complete working app code looks like:</strong></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="tutorial.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb36-2"><a href="tutorial.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(utils)</span>
<span id="cb36-3"><a href="tutorial.html#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="tutorial.html#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="tutorial.html#cb36-5" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb36-6"><a href="tutorial.html#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">titlePanel</span>(<span class="st">&quot;My first app&quot;</span>),</span>
<span id="cb36-7"><a href="tutorial.html#cb36-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-8"><a href="tutorial.html#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarLayout</span>(</span>
<span id="cb36-9"><a href="tutorial.html#cb36-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sidebarPanel</span>(<span class="st">&quot;This is a sidebar panel&quot;</span>,</span>
<span id="cb36-10"><a href="tutorial.html#cb36-10" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select x-axis&quot;</span>, </span>
<span id="cb36-11"><a href="tutorial.html#cb36-11" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb36-12"><a href="tutorial.html#cb36-12" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb36-13"><a href="tutorial.html#cb36-13" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb36-14"><a href="tutorial.html#cb36-14" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb36-15"><a href="tutorial.html#cb36-15" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb36-16"><a href="tutorial.html#cb36-16" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;sample6&quot;</span>), </span>
<span id="cb36-17"><a href="tutorial.html#cb36-17" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">selected =</span> <span class="st">&quot;sample1&quot;</span>),</span>
<span id="cb36-18"><a href="tutorial.html#cb36-18" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y_select&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Select y-axis&quot;</span>, </span>
<span id="cb36-19"><a href="tutorial.html#cb36-19" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;Sample 1&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb36-20"><a href="tutorial.html#cb36-20" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Sample 2&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb36-21"><a href="tutorial.html#cb36-21" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Sample 3&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb36-22"><a href="tutorial.html#cb36-22" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Sample 4&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb36-23"><a href="tutorial.html#cb36-23" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Sample 5&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb36-24"><a href="tutorial.html#cb36-24" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Sample 6&quot;</span> <span class="ot">=</span> <span class="st">&quot;sample6&quot;</span>),  </span>
<span id="cb36-25"><a href="tutorial.html#cb36-25" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">selected =</span> <span class="st">&quot;sample2&quot;</span>)</span>
<span id="cb36-26"><a href="tutorial.html#cb36-26" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb36-27"><a href="tutorial.html#cb36-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mainPanel</span>(<span class="st">&quot;And this is the main panel&quot;</span>,</span>
<span id="cb36-28"><a href="tutorial.html#cb36-28" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;check_x_select&quot;</span>),</span>
<span id="cb36-29"><a href="tutorial.html#cb36-29" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;check_y_select&quot;</span>),</span>
<span id="cb36-30"><a href="tutorial.html#cb36-30" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;my_plot&quot;</span>, <span class="at">width =</span> <span class="dv">600</span>, <span class="at">height =</span> <span class="dv">600</span>)</span>
<span id="cb36-31"><a href="tutorial.html#cb36-31" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb36-32"><a href="tutorial.html#cb36-32" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb36-33"><a href="tutorial.html#cb36-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-34"><a href="tutorial.html#cb36-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-35"><a href="tutorial.html#cb36-35" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb36-36"><a href="tutorial.html#cb36-36" aria-hidden="true" tabindex="-1"></a>    output<span class="sc">$</span>check_x_select <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb36-37"><a href="tutorial.html#cb36-37" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(input<span class="sc">$</span>x_select)</span>
<span id="cb36-38"><a href="tutorial.html#cb36-38" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb36-39"><a href="tutorial.html#cb36-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-40"><a href="tutorial.html#cb36-40" aria-hidden="true" tabindex="-1"></a>    output<span class="sc">$</span>check_y_select <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb36-41"><a href="tutorial.html#cb36-41" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(input<span class="sc">$</span>y_select)</span>
<span id="cb36-42"><a href="tutorial.html#cb36-42" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb36-43"><a href="tutorial.html#cb36-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-44"><a href="tutorial.html#cb36-44" aria-hidden="true" tabindex="-1"></a>    output<span class="sc">$</span>my_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb36-45"><a href="tutorial.html#cb36-45" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb36-46"><a href="tutorial.html#cb36-46" aria-hidden="true" tabindex="-1"></a>        <span class="co">#Read in the sample csv</span></span>
<span id="cb36-47"><a href="tutorial.html#cb36-47" aria-hidden="true" tabindex="-1"></a>        dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data-files/shiny_sample_data.csv&quot;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb36-48"><a href="tutorial.html#cb36-48" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb36-49"><a href="tutorial.html#cb36-49" aria-hidden="true" tabindex="-1"></a>        <span class="co">#Pull out a column for the x and y axis each</span></span>
<span id="cb36-50"><a href="tutorial.html#cb36-50" aria-hidden="true" tabindex="-1"></a>        x_axis <span class="ot">&lt;-</span> dat[, input<span class="sc">$</span>x_select]</span>
<span id="cb36-51"><a href="tutorial.html#cb36-51" aria-hidden="true" tabindex="-1"></a>        y_axis <span class="ot">&lt;-</span> dat[, input<span class="sc">$</span>y_select]</span>
<span id="cb36-52"><a href="tutorial.html#cb36-52" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb36-53"><a href="tutorial.html#cb36-53" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb36-54"><a href="tutorial.html#cb36-54" aria-hidden="true" tabindex="-1"></a>        <span class="co">#Create a basic dot plot</span></span>
<span id="cb36-55"><a href="tutorial.html#cb36-55" aria-hidden="true" tabindex="-1"></a>        <span class="fu">plot</span>(<span class="at">x =</span> x_axis, y_axis)</span>
<span id="cb36-56"><a href="tutorial.html#cb36-56" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb36-57"><a href="tutorial.html#cb36-57" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-58"><a href="tutorial.html#cb36-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-59"><a href="tutorial.html#cb36-59" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>Congratulations! You’ve made your first app!</p>
<div id="activity-4-modily-x--and-y-axes-labels" class="section level3 unnumbered activity hasAnchor">
<h3>Activity 4: Modily x- and y-axes labels<a href="tutorial.html#activity-4-modily-x--and-y-axes-labels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Can you figure out how to change the axis titles to the name of the selected sample. One of <code>selectInput</code> widgets also need to be changed to a named list. Other than that, you’re good to go.</p>
<blockquote>
<p>Hint:</p>
<p>plot(x = blah, y = plah, xlab = “Label for the x-axis”, ylab = “Label for the y-axis”)</p>
</blockquote>
<hr />
<p>Now imagine you had an experiment where you had many conditions and you needed to plot each one against each other. Instead of plotting each one individually, with a Shiny app, you could easily visualise the different conditions without having to write code for each one of them and then download them.</p>
<p>If you want to get a shareable link of your app, so that other people can access it over the web: <code>http://biotraining.erc.monash.edu:3838/your_username/demo/</code>.</p>
<p>Make sure to change the url to have your biotraining account name in place of <code>your_username</code>.</p>
</div>
<div id="challenge-2-modify-the-app-to-add-the-following" class="section level3 unnumbered challenge hasAnchor">
<h3>Challenge 2: Modify the app to add the following<a href="tutorial.html#challenge-2-modify-the-app-to-add-the-following" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="tutorial.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb37-2"><a href="tutorial.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Add ui</span></span>
<span id="cb37-3"><a href="tutorial.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">titlePanel</span>(<span class="st">&quot;My slightly more complicated app&quot;</span>)</span>
<span id="cb37-4"><a href="tutorial.html#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="tutorial.html#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sidebarLayout</span>(</span>
<span id="cb37-6"><a href="tutorial.html#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarPanel</span>(<span class="st">&quot;App input control panel&quot;</span>,</span>
<span id="cb37-7"><a href="tutorial.html#cb37-7" aria-hidden="true" tabindex="-1"></a>               <span class="fu">selectInput</span>(<span class="st">&quot;x_select3&quot;</span>, <span class="at">label =</span> <span class="fu">h3</span>(<span class="st">&quot;Select x-axis&quot;</span>), </span>
<span id="cb37-8"><a href="tutorial.html#cb37-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb37-9"><a href="tutorial.html#cb37-9" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb37-10"><a href="tutorial.html#cb37-10" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb37-11"><a href="tutorial.html#cb37-11" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb37-12"><a href="tutorial.html#cb37-12" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb37-13"><a href="tutorial.html#cb37-13" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample6&quot;</span>), </span>
<span id="cb37-14"><a href="tutorial.html#cb37-14" aria-hidden="true" tabindex="-1"></a>                           <span class="at">selected =</span> <span class="st">&quot;sample1&quot;</span>),</span>
<span id="cb37-15"><a href="tutorial.html#cb37-15" aria-hidden="true" tabindex="-1"></a>               </span>
<span id="cb37-16"><a href="tutorial.html#cb37-16" aria-hidden="true" tabindex="-1"></a>               <span class="fu">selectInput</span>(<span class="st">&quot;y_select3&quot;</span>, <span class="at">label =</span> <span class="fu">h3</span>(<span class="st">&quot;Select y-axis&quot;</span>), </span>
<span id="cb37-17"><a href="tutorial.html#cb37-17" aria-hidden="true" tabindex="-1"></a>                           <span class="at">choices =</span> <span class="fu">list</span>(<span class="st">&quot;sample1&quot;</span>, </span>
<span id="cb37-18"><a href="tutorial.html#cb37-18" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample2&quot;</span>, </span>
<span id="cb37-19"><a href="tutorial.html#cb37-19" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample3&quot;</span>,</span>
<span id="cb37-20"><a href="tutorial.html#cb37-20" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample4&quot;</span>,</span>
<span id="cb37-21"><a href="tutorial.html#cb37-21" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample5&quot;</span>,</span>
<span id="cb37-22"><a href="tutorial.html#cb37-22" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;sample6&quot;</span>),</span>
<span id="cb37-23"><a href="tutorial.html#cb37-23" aria-hidden="true" tabindex="-1"></a>                           <span class="at">selected =</span> <span class="st">&quot;sample2&quot;</span>)</span>
<span id="cb37-24"><a href="tutorial.html#cb37-24" aria-hidden="true" tabindex="-1"></a>               </span>
<span id="cb37-25"><a href="tutorial.html#cb37-25" aria-hidden="true" tabindex="-1"></a>               <span class="co"># 2. Add sliderInput              </span></span>
<span id="cb37-26"><a href="tutorial.html#cb37-26" aria-hidden="true" tabindex="-1"></a>              </span>
<span id="cb37-27"><a href="tutorial.html#cb37-27" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb37-28"><a href="tutorial.html#cb37-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mainPanel</span>(<span class="st">&quot;App output panel&quot;</span>,</span>
<span id="cb37-29"><a href="tutorial.html#cb37-29" aria-hidden="true" tabindex="-1"></a>            <span class="fu">plotOutput</span>(<span class="st">&quot;plot3&quot;</span>, <span class="at">width =</span> <span class="dv">600</span>, <span class="at">height =</span> <span class="dv">600</span>)</span>
<span id="cb37-30"><a href="tutorial.html#cb37-30" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb37-31"><a href="tutorial.html#cb37-31" aria-hidden="true" tabindex="-1"></a>            <span class="co"># 3. Add tableOutput</span></span>
<span id="cb37-32"><a href="tutorial.html#cb37-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb37-33"><a href="tutorial.html#cb37-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-34"><a href="tutorial.html#cb37-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-35"><a href="tutorial.html#cb37-35" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Add server logic</span></span>
<span id="cb37-36"><a href="tutorial.html#cb37-36" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>plot3 <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb37-37"><a href="tutorial.html#cb37-37" aria-hidden="true" tabindex="-1"></a>  dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data-files/shiny_sample_data.csv&quot;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb37-38"><a href="tutorial.html#cb37-38" aria-hidden="true" tabindex="-1"></a>  x_axis <span class="ot">&lt;-</span> dat[, input<span class="sc">$</span>x_select3]</span>
<span id="cb37-39"><a href="tutorial.html#cb37-39" aria-hidden="true" tabindex="-1"></a>  y_axis <span class="ot">&lt;-</span> dat[, input<span class="sc">$</span>y_select3]</span>
<span id="cb37-40"><a href="tutorial.html#cb37-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-41"><a href="tutorial.html#cb37-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">x =</span> x_axis, <span class="at">y =</span> y_axis)</span>
<span id="cb37-42"><a href="tutorial.html#cb37-42" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb37-43"><a href="tutorial.html#cb37-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-44"><a href="tutorial.html#cb37-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Redirect output to a variable to be called in mainPanel</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li><p>The first step is to sort out the ui.</p></li>
<li><p>We want to print the number of rows in the data as decided by a slider. Create a slider input widget.</p></li>
</ol>
<blockquote>
<p>Hint: The code for a slider looks something like this:
sliderInput(“inputIDyouwant”, label = “Slider”, min = , max = , value = 50)</p>
<p>To find out more about how a slider works check the <a href="http://shiny.rstudio.com/gallery/widget-gallery.html">Shiny widget gallery</a></p>
</blockquote>
<ol start="3" style="list-style-type: decimal">
<li>Create a new output called a <code>tableOutput</code> to print the data in tabular format.</li>
</ol>
<blockquote>
<p>Hint: The code for it looks like:
tableOutput(outputId = “table1”)</p>
</blockquote>
<ol start="4" style="list-style-type: decimal">
<li><p>Define the server object.</p></li>
<li><p>You’ll need to direct the result of a <code>renderTable</code> function to the new output.</p></li>
<li><p>For an ever further challenge, create a reactive function and pass the reactive variable to the two <code>render</code> functions. Read the csv file only once in the application</p></li>
</ol>
<blockquote>
<p>Hint:
The table that is displayed is a subset of the full csv. It shows only the two currently selected columns. Remember that a dataframe can be subsetted to show only certain columns using <code>x[, c(column_a, column_c, column_z)]</code></p>
<p>Inside the <code>renderTable</code> call, you’ll need a function that shows you the top of a table. The <code>head</code> function is ideal for this. If you aren’t familiar with how head works, check the help manual for <code>head</code> with <code>?head</code> to see the arguements it takes.</p>
</blockquote>
<p>An important thing to note is that only one thing is returned from inside a render function (usually the last line inside that function). Therefore a variable, such as <code>dat</code> created inside the <code>renderPlot</code> <strong>will not exist</strong> outside that <code>renderPlot</code> function. You’ll need to read the csv of data back in again in the <code>renderTable</code> function.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reactivity.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/nkandhari/R-ShinyIntro-MBP/edit/master/05-tutorial.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/nkandhari/R-ShinyIntro-MBP/blob/master/05-tutorial.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
